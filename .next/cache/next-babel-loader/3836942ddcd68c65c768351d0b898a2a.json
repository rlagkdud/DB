{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/router';\nimport Link from \"next/link\";\nimport Header_css from \"../component/Header_css\";\nimport axios from \"axios\";\n\nvar Header = function Header() {\n  var router = useRouter();\n\n  var _useState = useState(null),\n      userData = _useState[0],\n      getData = _useState[1];\n\n  var _useState2 = useState(false),\n      logStat = _useState2[0],\n      getStat = _useState2[1];\n\n  useEffect(function () {\n    console.log(router.pathname);\n    console.log(localStorage.getItem('usrID'));\n    getData(localStorage.getItem('usrID'));\n    console.log(userData);\n\n    if (localStorage.getItem('usrID') !== null) {\n      getStat(true);\n      console.log(logStat);\n    } else {\n      getStat(false);\n      console.log(logStat);\n      localStorage.clear();\n    }\n\n    var handleRouteChange = function handleRouteChange(url) {\n      console.log('App is changing to: ', url);\n    };\n\n    router.events.on('routeChangeStart', handleRouteChange);\n    return function () {\n      router.events.off('routeChangeStart', handleRouteChange);\n    };\n  }, [logStat]);\n\n  function getMethod(e) {\n    var val = e.target.name;\n    router.push({\n      pathname: val\n    });\n  }\n\n  function getMethodM(e) {\n    var val = e.target.name;\n\n    if (logStat) {\n      router.push({\n        pathname: val\n      });\n    } else {\n      alert('로그인이 필요한 서비스 입니다');\n      router.push('/Login');\n    }\n  }\n\n  function mLogout(e) {\n    var val = e.target.name;\n    alert('로그아웃 되었습니다!');\n    localStorage.clear();\n    router.push({\n      pathname: val\n    });\n  }\n\n  return __jsx(\"div\", {\n    \"class\": \"body\"\n  }, __jsx(\"div\", {\n    \"class\": \"main\"\n  }, __jsx(Header_css, null), __jsx(\"div\", {\n    \"class\": \"main_image\"\n  }, __jsx(\"div\", {\n    \"class\": \"snsIcons\"\n  }, __jsx(\"a\", {\n    href: \"\",\n    target: \"_blank\"\n  }, __jsx(\"img\", {\n    \"class\": \"icon\",\n    src: \"/facebook.png\",\n    height: \"15px\"\n  })), __jsx(\"a\", {\n    href: \"\",\n    target: \"_blank\"\n  }, __jsx(\"img\", {\n    \"class\": \"icon\",\n    src: \"/instagram.png\",\n    height: \"15px\"\n  })), __jsx(\"a\", {\n    href: \"\",\n    target: \"_blank\"\n  }, __jsx(\"img\", {\n    \"class\": \"icon\",\n    src: \"/twitter.png\",\n    height: \"15px\"\n  }))), __jsx(\"div\", {\n    \"class\": \"logo\"\n  }, __jsx(\"img\", {\n    \"class\": \"mainLogo\",\n    src: \"/mainLogo.png\"\n  }), __jsx(\"div\", {\n    \"class\": \"thisiscinema\"\n  }, __jsx(\"img\", {\n    src: \"/this_is_cinema.png\",\n    height: \"50px\"\n  }))), __jsx(\"nav\", {\n    \"class\": \"menubarNav\"\n  }, __jsx(\"ul\", {\n    \"class\": \"menubar\"\n  }, __jsx(\"li\", null, __jsx(\"a\", {\n    name: \"/index\",\n    onClick: getMethod\n  }, \" \\uBA54\\uC778\")), __jsx(\"li\", null, __jsx(\"a\", {\n    name: \"/reservation\",\n    onClick: getMethod\n  }, \"\\uC601\\uD654\\uC608\\uB9E4\")), __jsx(\"li\", null, logStat ? __jsx(\"a\", {\n    name: \"/index\",\n    onClick: mLogout\n  }, \"\\uB85C\\uADF8\\uC544\\uC6C3\") : __jsx(\"a\", {\n    name: \"/Login\",\n    onClick: getMethod\n  }, \"\\uB85C\\uADF8\\uC778\")), logStat ? __jsx(React.Fragment, null) : __jsx(\"li\", null, __jsx(\"a\", {\n    name: \"/Join\",\n    onClick: getMethod\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\")), __jsx(\"li\", null, __jsx(\"a\", {\n    name: \"/Mypage\",\n    onClick: getMethodM\n  }, \" \\uB9C8\\uC774\\uD398\\uC774\\uC9C0 \")))))));\n};\n\nexport default Header;","map":{"version":3,"sources":["/Users/caznm/Desktop/Movie/DB/pages/Header.js"],"names":["useState","useEffect","useRouter","Link","Header_css","axios","Header","router","userData","getData","logStat","getStat","console","log","pathname","localStorage","getItem","clear","handleRouteChange","url","events","on","off","getMethod","e","val","target","name","push","getMethodM","alert","mLogout"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/router';\nimport Link from \"next/link\";\nimport Header_css from \"../component/Header_css\";\nimport axios from \"axios\";\n\nconst Header = () => {\n\n    const router = useRouter();\n    const [userData, getData] = useState(null);\n    const [logStat, getStat] = useState(false);\n\n    useEffect(() => {\n\n            console.log(router.pathname);\n            console.log(localStorage.getItem('usrID'));\n            getData(localStorage.getItem('usrID'));\n            console.log(userData);\n\n            if(localStorage.getItem('usrID') !== null) {\n                getStat(true);\n                console.log(logStat);\n            }\n            else{\n                getStat(false);\n                console.log(logStat);\n                localStorage.clear();\n            }\n        \n        const handleRouteChange = url => {\n            console.log('App is changing to: ', url)\n        }\n        \n        router.events.on('routeChangeStart', handleRouteChange)\n        return () => {\n            router.events.off('routeChangeStart', handleRouteChange)\n        }\n    \n    },[logStat])\n    \n    function getMethod (e) {\n        const val = e.target.name;\n        router.push({ pathname: val });\n    }\n    \n    function getMethodM (e) {\n        const val = e.target.name;\n        if (logStat) {\n            router.push({ pathname: val });\n        }\n        else {\n            alert('로그인이 필요한 서비스 입니다');\n            router.push('/Login');\n        }\n    }\n\n    function mLogout(e) {\n        const val = e.target.name;\n        alert('로그아웃 되었습니다!');\n        localStorage.clear();\n        router.push({ pathname: val });\n    }\n    \n    return (\n        <div class=\"body\">\n            <div class=\"main\">\n                <Header_css />\n                <div class=\"main_image\">\n                    <div class=\"snsIcons\">\n                        <a href=\"\" target=\"_blank\">\n                            <img\n                                class=\"icon\"\n                                src= \"/facebook.png\"\n                                height=\"15px\"\n                            />\n                        </a>\n                        <a href=\"\" target=\"_blank\">\n                            <img\n                                class=\"icon\"\n                                src=\"/instagram.png\"\n                                height=\"15px\"\n                            />\n                        </a>\n                        <a href=\"\" target=\"_blank\">\n                            <img\n                                class=\"icon\"\n                                src=\"/twitter.png\"\n                                height=\"15px\"\n                            />\n                        </a>\n                    </div>\n                    <div class=\"logo\">\n                        <img class=\"mainLogo\" src=\"/mainLogo.png\" />\n                        <div class=\"thisiscinema\">\n                            <img\n                                src=\"/this_is_cinema.png\"\n                                height=\"50px\"\n                            />\n                        </div>\n                    </div>\n                    <nav class=\"menubarNav\">\n                        <ul class=\"menubar\">\n                            <li>\n                                <a name = \"/index\" onClick={getMethod}> 메인</a>\n                            </li>\n                            <li>\n                                <a  name = \"/reservation\" onClick={getMethod}>영화예매</a>\n                            </li>\n                            <li>\n                                {logStat ? <a name='/index' onClick={mLogout}>로그아웃</a> : <a name='/Login' onClick={getMethod}>로그인</a>}\n                            </li>\n                            {logStat ? <></> : <li>\n                                <a name=\"/Join\" onClick={getMethod}>회원가입</a>\n                            </li> }\n                            <li>\n                                <a name='/Mypage' onClick={getMethodM}> 마이페이지 </a>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}
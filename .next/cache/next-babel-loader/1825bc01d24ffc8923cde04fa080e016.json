{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/router';\nimport Header from \"./Header\";\nimport Login_css from \"../component/Login_css\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport Axios from \"axios\";\n\nvar Login = function Login() {\n  var _useState = useState(''),\n      usrID = _useState[0],\n      getID = _useState[1];\n\n  var _useState2 = useState(''),\n      usrPW = _useState2[0],\n      getPW = _useState2[1];\n\n  var router = useRouter();\n\n  function gotoReg() {\n    router.push('/Join');\n  } // useEffect(() =>{\n  // });\n\n\n  function getid(e) {\n    getID(e.target.value);\n  }\n\n  function getpw(e) {\n    getPW(e.target.value);\n  }\n\n  function login() {\n    Axios({\n      method: 'POST',\n      url: '/Login',\n      data: {\n        userID: usrID,\n        userPW: usrPW\n      }\n    }).then(function (res) {\n      console.log(res.data.bool);\n      var check = res.data.bool;\n\n      if (check) {\n        alert('환영합니다! ' + res.data.userID + '님!');\n        localStorage.setItem('usrID', userID);\n        router.push({\n          pathname: '/Mypage'\n        });\n      } else {\n        alert('잘못된 로그인 접근입니다.');\n      }\n    });\n  }\n\n  return __jsx(\"div\", null, __jsx(Head, null, __jsx(\"title\", null, \"TIC-\\uB85C\\uADF8\\uC778\")), __jsx(Login_css, null), __jsx(Header, null), __jsx(\"div\", {\n    \"class\": \"body_login\"\n  }, __jsx(\"div\", {\n    \"class\": \"back\"\n  }, __jsx(\"div\", {\n    \"class\": \"whiteback\"\n  }, __jsx(\"div\", {\n    \"class\": \"login-card\"\n  }, __jsx(\"h1\", null, \"\\uB85C\\uADF8\\uC778\"), __jsx(\"form\", null, __jsx(\"p\", {\n    \"class\": \"username\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"user_id\",\n    placeholder: \"\\uC544\\uC774\\uB514\",\n    onChange: getid,\n    required: true\n  })), __jsx(\"p\", {\n    \"class\": \"pwd\"\n  }, __jsx(\"input\", {\n    type: \"password\",\n    name: \"user_pwd\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    onChange: getpw,\n    required: true\n  })), __jsx(\"button\", {\n    \"class\": \"login\",\n    type: \"button\",\n    onClick: login\n  }, \" \", \"Log in\", \" \"), __jsx(\"button\", {\n    \"class\": \"sign_in\",\n    type: \"button\",\n    onClick: gotoReg\n  }, \" \", \"Sign In\", \" \")), __jsx(\"img\", {\n    src: \"/login_or.png\",\n    width: \"100%\",\n    alt: \"\"\n  }), __jsx(Link, {\n    href: \"/Non_member\"\n  }, __jsx(\"button\", {\n    \"class\": \"non_member\",\n    type: \"button\"\n  }, \" \", \"\\uBE44\\uD68C\\uC6D0 \\uC608\\uB9E4\\uD558\\uAE30\", \" \")))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/jhlim/OneDrive/바탕 화면/DB/pages/Login.js"],"names":["useState","useEffect","useRouter","Header","Login_css","Link","Head","Axios","Login","usrID","getID","usrPW","getPW","router","gotoReg","push","getid","e","target","value","getpw","login","method","url","data","userID","userPW","then","res","console","log","bool","check","alert","localStorage","setItem","pathname"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useRouter } from 'next/router'\r\nimport Header from \"./Header\";\r\nimport Login_css from \"../component/Login_css\";\r\nimport Link from \"next/link\";\r\nimport Head from \"next/head\";\r\nimport Axios from \"axios\";\r\n\r\nconst Login = () => {\r\n    const [usrID, getID] = useState('');\r\n    const [usrPW, getPW] = useState('');\r\n    const router = useRouter();\r\n\r\n    function gotoReg () {\r\n        router.push('/Join');\r\n    }\r\n\r\n    // useEffect(() =>{\r\n\r\n    // });\r\n\r\n    function getid(e) {  getID(e.target.value); }\r\n    function getpw(e) {  getPW(e.target.value); }\r\n\r\n    function login() {\r\n            \r\n        Axios({\r\n            method: 'POST',\r\n            url: '/Login',\r\n            data:{\r\n                userID : usrID,\r\n                userPW: usrPW\r\n            }\r\n        }).then( (res) => {\r\n            console.log(res.data.bool);\r\n            const check = res.data.bool;\r\n            \r\n            if(check){\r\n                alert('환영합니다! '+ res.data.userID +'님!');\r\n                localStorage.setItem('usrID', userID)\r\n                router.push({pathname: '/Mypage' });\r\n            }\r\n            else{\r\n                alert('잘못된 로그인 접근입니다.');\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Head>\r\n                <title>TIC-로그인</title>\r\n            </Head>\r\n            <Login_css />\r\n            <Header />\r\n            <div class=\"body_login\">\r\n                <div class=\"back\">\r\n                    <div class=\"whiteback\">\r\n                        <div class=\"login-card\">\r\n                            <h1>로그인</h1>\r\n                            <form>\r\n                                <p class=\"username\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"user_id\"\r\n                                        placeholder=\"아이디\"\r\n                                        onChange={getid}\r\n                                        required\r\n                                    />\r\n                                </p>\r\n                                <p class=\"pwd\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        name=\"user_pwd\"\r\n                                        placeholder=\"비밀번호\"\r\n                                        onChange={getpw}\r\n                                        required\r\n                                    />\r\n                                </p>\r\n                                <button class=\"login\" type=\"button\" onClick = {login}>{\" \"}Log in{\" \"}</button>\r\n                                <button class=\"sign_in\" type=\"button\" onClick={gotoReg}>{\" \"}Sign In{\" \"}</button>\r\n                                </form>\r\n                            <img src=\"/login_or.png\" width=\"100%\" alt=\"\" />\r\n                            <Link href=\"/Non_member\">\r\n                                <button class=\"non_member\" type=\"button\">\r\n                                    {\" \"}\r\n                                    비회원 예매하기{\" \"}\r\n                                </button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}
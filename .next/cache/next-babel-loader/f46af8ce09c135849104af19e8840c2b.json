{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/router';\nimport Header from \"./Header\";\nimport Login_css from \"../component/Login_css\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport Axios from \"axios\";\n\nvar Login = function Login() {\n  var _useState = useState(''),\n      usrID = _useState[0],\n      getID = _useState[1];\n\n  var _useState2 = useState(''),\n      usrPW = _useState2[0],\n      getPW = _useState2[1];\n\n  var router = useRouter();\n\n  function gotoReg() {\n    router.push('/Join');\n  } // useEffect(() =>{\n  // });\n\n\n  function getid(e) {\n    getID(e.target.value);\n  }\n\n  function getpw(e) {\n    getPW(e.target.value);\n  }\n\n  function login() {\n    Axios({\n      method: 'POST',\n      url: '/Login',\n      data: {\n        userID: usrID,\n        userPW: usrPW\n      }\n    }).then(function (res) {\n      console.log(res.data.bool);\n      var check = res.data.bool;\n\n      if (check) {\n        alert('환영합니다! ' + res.data.userID + '님!');\n        localStorage.setItem('usrID', res.data.userID);\n        console.log(localStorage.getItem('usrID'));\n        router.push({\n          pathname: '/Mypage'\n        });\n      } else {\n        alert('잘못된 로그인 접근입니다.');\n      }\n    });\n  }\n\n  return __jsx(\"div\", null, __jsx(Head, null, __jsx(\"title\", null, \"TIC-\\uB85C\\uADF8\\uC778\")), __jsx(Login_css, null), __jsx(Header, null), __jsx(\"div\", {\n    \"class\": \"body_login\"\n  }, __jsx(\"div\", {\n    \"class\": \"back\"\n  }, __jsx(\"div\", {\n    \"class\": \"whiteback\"\n  }, __jsx(\"div\", {\n    \"class\": \"login-card\"\n  }, __jsx(\"h1\", null, \"\\uB85C\\uADF8\\uC778\"), __jsx(\"form\", null, __jsx(\"p\", {\n    \"class\": \"username\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"user_id\",\n    placeholder: \"\\uC544\\uC774\\uB514\",\n    onChange: getid,\n    required: true\n  })), __jsx(\"p\", {\n    \"class\": \"pwd\"\n  }, __jsx(\"input\", {\n    type: \"password\",\n    name: \"user_pwd\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    onChange: getpw,\n    required: true\n  })), __jsx(\"button\", {\n    \"class\": \"login\",\n    type: \"button\",\n    onClick: login\n  }, \" \", \"Log in\", \" \"), __jsx(\"button\", {\n    \"class\": \"sign_in\",\n    type: \"button\",\n    onClick: gotoReg\n  }, \" \", \"Sign In\", \" \")), __jsx(\"img\", {\n    src: \"/login_or.png\",\n    width: \"100%\",\n    alt: \"\"\n  }), __jsx(Link, {\n    href: \"/Non_member\"\n  }, __jsx(\"button\", {\n    \"class\": \"non_member\",\n    type: \"button\"\n  }, \" \", \"\\uBE44\\uD68C\\uC6D0 \\uC608\\uB9E4\\uD558\\uAE30\", \" \")))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/caznm/Desktop/Movie/DB/pages/Login.js"],"names":["useState","useEffect","useRouter","Header","Login_css","Link","Head","Axios","Login","usrID","getID","usrPW","getPW","router","gotoReg","push","getid","e","target","value","getpw","login","method","url","data","userID","userPW","then","res","console","log","bool","check","alert","localStorage","setItem","getItem","pathname"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/router'\nimport Header from \"./Header\";\nimport Login_css from \"../component/Login_css\";\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport Axios from \"axios\";\n\nconst Login = () => {\n    const [usrID, getID] = useState('');\n    const [usrPW, getPW] = useState('');\n    const router = useRouter();\n\n    function gotoReg () {\n        router.push('/Join');\n    }\n\n    // useEffect(() =>{\n\n    // });\n\n    function getid(e) {  getID(e.target.value); }\n    function getpw(e) {  getPW(e.target.value); }\n\n    function login() {\n            \n        Axios({\n            method: 'POST',\n            url: '/Login',\n            data:{\n                userID : usrID,\n                userPW: usrPW\n            }\n        }).then( (res) => {\n            console.log(res.data.bool);\n            const check = res.data.bool;\n            \n            if(check){\n                alert('환영합니다! '+ res.data.userID +'님!');\n                localStorage.setItem('usrID', res.data.userID);\n                console.log(localStorage.getItem('usrID'));\n                router.push({pathname: '/Mypage' });\n            }\n            else{\n                alert('잘못된 로그인 접근입니다.');\n            }\n        });\n    }\n\n    return (\n        <div>\n            <Head>\n                <title>TIC-로그인</title>\n            </Head>\n            <Login_css />\n            <Header />\n            <div class=\"body_login\">\n                <div class=\"back\">\n                    <div class=\"whiteback\">\n                        <div class=\"login-card\">\n                            <h1>로그인</h1>\n                            <form>\n                                <p class=\"username\">\n                                    <input\n                                        type=\"text\"\n                                        name=\"user_id\"\n                                        placeholder=\"아이디\"\n                                        onChange={getid}\n                                        required\n                                    />\n                                </p>\n                                <p class=\"pwd\">\n                                    <input\n                                        type=\"password\"\n                                        name=\"user_pwd\"\n                                        placeholder=\"비밀번호\"\n                                        onChange={getpw}\n                                        required\n                                    />\n                                </p>\n                                <button class=\"login\" type=\"button\" onClick = {login}>{\" \"}Log in{\" \"}</button>\n                                <button class=\"sign_in\" type=\"button\" onClick={gotoReg}>{\" \"}Sign In{\" \"}</button>\n                                </form>\n                            <img src=\"/login_or.png\" width=\"100%\" alt=\"\" />\n                            <Link href=\"/Non_member\">\n                                <button class=\"non_member\" type=\"button\">\n                                    {\" \"}\n                                    비회원 예매하기{\" \"}\n                                </button>\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}